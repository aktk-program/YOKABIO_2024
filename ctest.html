<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Carousel</title>
    <style>
      #carousel-container {
        display: flex;
        overflow: hidden;
      }

      #carousel-container video {
        width: 100%;
        display: none;
      }

      #video1 {
        display: block; /* 最初のビデオを表示 */
      }
    </style>
  </head>
  <body>
    <div id="carousel-container">
      <video id="video1" muted loop autoplay>
        <source src="./movies/6mentai.mp4" type="video/mp4" />
      </video>
      <video id="video2" muted loop autoplay>
        <source src="./movies/chukan.mp4" type="video/mp4" />
      </video>
      <video id="video3" muted loop autoplay>
        <source src="./movies/8mentai.mp4" type="video/mp4" />
      </video>
    </div>

    <script>
      const videos = document.querySelectorAll("video");
      let currentIndex = 0;

      function playNextVideo() {
        videos[currentIndex].style.display = "none";
        currentIndex = (currentIndex + 1) % videos.length;
        fadeIn(videos[currentIndex]);
        delay(100);
        videos[currentIndex].style.display = "block"; // フェードイン前に表示を切り替える
        videos[currentIndex].play();
      }

      // カルーセルを開始
      const carouselInterval = setInterval(playNextVideo, 5000); // 5秒ごとに切り替え

      // カルーセルを停止
      function stopCarousel() {
        clearInterval(carouselInterval);
      }

      // カルーセルを再開
      function startCarousel() {
        carouselInterval = setInterval(playNextVideo, 5000);
      }

      // 初期ビデオ再生
      videos[currentIndex].style.display = "block";
      videos[currentIndex].play();

      //フェードイン関数
      function fadeIn(element) {
        var opacity = 0;
        var timer = setInterval(function () {
          if (opacity >= 1) {
            clearInterval(timer);
          }
          element.style.opacity = opacity;
          opacity += 0.1; // フェードインの速さを調整できます
        }, 50);
        videos[currentIndex].style.display = "block"; // フェードインの速さを調整できます
      }
    </script>
  </body>
</html>
